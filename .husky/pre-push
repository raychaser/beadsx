#!/bin/sh
set -e

# Pre-push hook: Run full test suite (E2E tests)

# Verify required tools are available
command -v pnpm >/dev/null 2>&1 || { echo "Error: pnpm is required but not found. Run 'npm install -g pnpm'."; exit 1; }

echo "Running pre-push checks (full test suite)..."

# Run full test suite including E2E tests
pnpm run test || { echo "Tests failed. Please fix tests before pushing."; exit 1; }

echo "Pre-push checks passed!"
